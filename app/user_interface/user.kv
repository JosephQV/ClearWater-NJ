<UserScreen>:
    name: "user_screen"

    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        BackMenuBar:
            title_text: app.text["user_screen"]["title"][app.language()]
            back_screen: "home_screen"

        FloatLayout:
            size_hint: 1.00, 0.90

            Label:
                text: app.text["user_screen"]["welcome_label"][app.language()] + ", " + app.user_data()["username"]
                color: "#000000"
                text_size: root.width, None
                size: self.texture_size
                halign: "left"
                padding: 10
                size_hint: None, None
                pos_hint: {"center_x": 0.50, "top": 0.95}

            Label:
                text: app.text["user_screen"]["email_label"][app.language()] + ": " + app.user_data()["email"]
                color: "#000000"
                text_size: root.width, None
                size: self.texture_size
                halign: "left"
                padding: 10
                size_hint: None, None
                pos_hint: {"center_x": 0.50, "top": 0.85}

            Label:
                text: app.text["user_screen"]["municipality_label"][app.language()] + ": " + app.user_data()["municipality"] + ", " + app.user_data()["county"] + " " + app.text["user_screen"]["county_label"][app.language()]
                color: "#000000"
                text_size: root.width, None
                size: self.texture_size
                halign: "left"
                padding: 10
                size_hint: None, None
                pos_hint: {"center_x": 0.50, "top": 0.75}

            Label:
                text: app.text["user_screen"]["water_system_label"][app.language()] + ": " + app.user_data()["water_system"]
                color: "#000000"
                text_size: root.width, None
                size: self.texture_size
                halign: "left"
                padding: 10
                size_hint: None, None
                pos_hint: {"center_x": 0.50, "top": 0.65}

            Label:
                text: app.text["user_screen"]["water_tests_label"][app.language()] + " (" + str(len(app.user_data()["water_tests"])) + "):"
                color: "#000000"
                text_size: root.width, None
                size: self.texture_size
                halign: "left"
                padding: 10
                size_hint: None, None
                pos_hint: {"center_x": 0.50, "top": 0.55}

            Button:
                text: app.text["user_screen"]["view_water_tests_btn"][app.language()]
                background_down: ""
                background_normal: ""
                text_size: self.width, None
                background_color: app.colors["secondary"]
                size: "300sp", "60sp"
                padding: 10
                halign: "center"
                size_hint: None, None
                pos_hint: {"center_x": 0.50, "top": 0.45}
                on_press:
                    app.root.switch_screens("all_water_tests_screen", None)

            Button:
                text: app.text["user_screen"]["edit_info_btn"][app.language()]
                background_down: ""
                background_normal: ""
                text_size: self.width, None
                background_color: app.colors["secondary"]
                size: "300sp", "60sp"
                padding: 10
                halign: "center"
                size_hint: None, None
                pos_hint: {"center_x": 0.50, "top": 0.15}
                on_press:
                    app.root.switch_screens("userdata_screen", None)


<UserDataScreen>:
    name: "userdata_screen"

    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        BackMenuBar:
            title_text: "Edit User Information"
            back_screen: "user_screen"

        Form:
            form_items: root.get_user_data_form_items()